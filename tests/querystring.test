- name: Make http request matching querystring
  tags:
    - request
    - querystring
  preconditions:
    config_name: "config.http"
    config_files:
      config.http: |
        - request:
            path: /hello1
            querystring:
              variable:
                - value
          response:
            content: <html><body>correct1</body></html>
        - request:
            path: /hello2
            querystring:
              variable:
                - value1
                - value2
          response:
            content: <html><body>correct2</body></html>
        - request:
            path: /hello3
            querystring:
              userId:
                - "3318465"
              houseNo:
                - "27"
              postcode:
                - nw12sd
          response:
            content: <html><body>correct3</body></html>
  scenario:
    - Assert request response contains:
        url: http://localhost:10088/hello1?variable=value
        contains: correct1
        timeout: 1000
    - Assert request response contains:
        url: http://localhost:10088/hello2?variable=value1&variable=value2
        contains: correct2
    - Assert request response contains:
        url: http://localhost:10088/hello1?variable=value2
        contains: No matching
    - Assert request response contains:
        url: http://localhost:10088/hello3?houseNo=27&userId=3318465&postcode=nw12sd
        contains: correct3