- name: Make http request
  tags:
    - request
  preconditions:
    serve:
      - config.http
    config_files:
      config.http: |
        {% raw %}
        {% for i in range(1, 3) %}
        - request:
            path: /hello{{ i }}
          response:
            content: <html><body>correct{{ i }}</body></html>
        {% endfor %}
        {% endraw %}
  scenario:
    - Assert request response contains:
        url: http://localhost:10088/hello1
        contains: correct1
    - Assert request response contains:
        url: http://localhost:10088/hello2
        contains: correct2